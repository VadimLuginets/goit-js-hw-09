{"mappings":"AAAA,MAAMA,EAASC,SAASC,cAAc,QACtC,IAAIC,EAAY,EACZC,EAAc,EAElBJ,EAAOK,iBAAiB,UAAUC,IAChCA,EAAEC,iBACFC,YAAW,KACTL,EAAYM,OAAOT,EAAOU,KAAKC,OAE/B,IAAK,IAAIC,EAAQ,EAAGA,GAASZ,EAAOa,OAAOF,MAAOC,IAChDR,GAAeD,EACfW,EAAcF,EAAOR,GAClBW,MAAK,EAACC,SAAEA,EAAQC,MAAEA,MACjBC,QAAQC,IAAI,qBAAqBH,QAAeC,WAEjDG,OAAM,EAACJ,SAAEA,EAAQC,MAAEA,MAClBC,QAAQC,IAAI,oBAAoBH,QAAeC,aAGpDR,OAAOT,EAAOiB,MAAMN,WAGzB,MAAMG,EAAgB,CAACE,EAAUC,IACxB,IAAII,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GACtClB,YAAW,KACLgB,EAGFF,EAAQ,C,SAAEN,E,MAAUC,IAIpBM,EAAO,C,SAAEP,E,MAAUC,MAEpBA","sources":["src/js/03-promises.js"],"sourcesContent":["const formEl = document.querySelector('form');\nlet stepDelay = 0;\nlet currentStep = 0;\n\nformEl.addEventListener('submit', e => {\n  e.preventDefault();\n  setTimeout(() => {\n    stepDelay = Number(formEl.step.value);\n\n    for (let index = 1; index <= formEl.amount.value; index++) {\n      currentStep += stepDelay;\n      createPromise(index, currentStep)\n        .then(({ position, delay }) => {\n          console.log(`Fulfilled promise ${position} in ${delay} ms`);\n        })\n        .catch(({ position, delay }) => {\n          console.log(`Rejected promise ${position} in ${delay} ms`);\n        });\n    }\n  }, Number(formEl.delay.value));\n});\n\nconst createPromise = (position, delay) => {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        // Fulfill\n\n        resolve({ position, delay });\n      } else {\n        // Reject\n\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n};\n"],"names":["$47d4ff9957288465$var$formEl","document","querySelector","$47d4ff9957288465$var$stepDelay","$47d4ff9957288465$var$currentStep","addEventListener","e","preventDefault","setTimeout","Number","step","value","index","amount","$47d4ff9957288465$var$createPromise","then","position","delay","console","log","catch","Promise","resolve","reject","shouldResolve","Math","random"],"version":3,"file":"03-promises.f64e2290.js.map"}